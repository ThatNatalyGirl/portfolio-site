{"version":3,"sources":["findGame.js"],"names":["map","currentGames","initMap","google","maps","Map","document","getElementById","center","lat","lng","zoom","axios","get","then","response","console","log","data","forEach","game","i","latLng","long","marker","Marker","position","title","locationInfo","animation","Animation","DROP","description","event","addListener","displayJoinGameOptions","gameIndex","currentGame","joinGameDiv","createElement","joinGameTitle","joinGameUser","joinGameLocationInfo","joinGameAddress","joinGameDate","joinGameTime","joinGameDescription","joinGameCurrentSlots","buttonDiv","joinGameButton","dontJoinGameButton","body","appendChild","classList","add","innerHTML","username","locatioInfo","address","date","time","players","addEventListener","style","display","post","id"],"mappings":"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","file":"findGame.js","sourcesContent":["//for The Actual Map on Find-a-Game\nvar map;\nvar currentGames; // array of game data, filled later by ajax\n\nfunction initMap() {\n\tmap = new google.maps.Map(document.getElementById('map'), {\n\t\tcenter: {lat: 33.7490, lng: -84.3880},\n\t\tzoom: 12\n\t});\n\t\n\t//Get the info from the games started\n\taxios.get('http://178.128.76.205:1235/game', {})\n\n\t.then(function (response) {\n\t\tconsole.log('here is the get response data for key:', response.data);\n\n\t\tcurrentGames = response.data\n\t\tcurrentGames.forEach(function(game, i){\n\t\t\tvar latLng = {lat: game.lat, lng: game.long}\n\n\t\t\tvar marker = new google.maps.Marker({\n\t\t\t\tposition: latLng,\n\t\t\t\tmap: map,\n\t\t\t\ttitle: game.locationInfo,\n\t\t\t\tanimation: google.maps.Animation.DROP,\n\t\t\t});\n\n\t\t\tconsole.log(game.description)\n\n\n\t\t\t// var infoWindowContent = \n\t\t\t// \t`<div class=\"location-marker\"> \n\t\t\t// \t\t<h1>${i}</h1>\n\t\t\t// \t\t<h2>`+ game.game + `</h2>\n\t\t\t// \t\t</br>\n\t\t\t// \t\t<p><span>Who's Idea:</span> `+ game.username + `</p>\n\t\t\t// \t\t<p><span>Where:</span> `+ game.locatioInfo + `</p>\n\t\t\t// \t\t<p><span>Address:</span> `+ game.address + `</p>\n\t\t\t// \t\t<p><span>Who :</span> `+ `Me & ` + game.players + ` players</p>\n\t\t\t// \t\t<p><span>When:</span> `+ game.date + `</p>\n\t\t\t// \t\t<p><span>What Time:</span> `+ game.time + `</p>\n\t\t\t// \t\t<p class=\"slots-avail\"><span>Slots Available:</span> `+ game.players + `</p>\n\t\t\t// \t\t</br>\n\t\t\t// \t\t<a class=\"join-button\" onclick=\"displayJoinGameOptions(${i})\"> See Game</a>\n\t\t\t// \t</div>`\n\t\t\t// ;\n\n\t\t\t// var infowindow = new google.maps.InfoWindow({\n\t\t\t// \tcontent: infoWindowContent,\n\t\t\t// \tmaxWidth: 200\n\t\t\t// });\n\n\t\t\tgoogle.maps.event.addListener(marker, 'click', function() {\n\t\t\t\t// infowindow.open(map,marker);\n\t\t\t\tdisplayJoinGameOptions(i) // skipping the info window entirely\n\t\t\t});\n\n\t\t})\n\t})\n}\n\n\nfunction displayJoinGameOptions(gameIndex) {\n\t\n\tlet currentGame = currentGames[gameIndex];\n\n\tlet joinGameDiv = document.createElement('div');\n\tlet joinGameTitle = document.createElement('h2');\n\tlet joinGameUser = document.createElement('p');\n\tlet joinGameLocationInfo = document.createElement('p');\n\tlet joinGameAddress = document.createElement('p');\n\tlet joinGameDate = document.createElement('p');\n\tlet joinGameTime = document.createElement('p');\n\tlet joinGameDescription = document.createElement('p');\n\tlet joinGameCurrentSlots = document.createElement('p');\n\tlet buttonDiv = document.createElement('div');\n\tlet joinGameButton = document.createElement('a');\n\tlet dontJoinGameButton = document.createElement('a');\n\n\tdocument.body.appendChild(joinGameDiv)\n\tjoinGameDiv.appendChild(joinGameTitle);\n\tjoinGameDiv.appendChild(joinGameUser);\n\tjoinGameDiv.appendChild(joinGameLocationInfo);\n\tjoinGameDiv.appendChild(joinGameAddress);\n\tjoinGameDiv.appendChild(joinGameDate);\n\tjoinGameDiv.appendChild(joinGameTime);\n\tjoinGameDiv.appendChild(joinGameDescription);\n\tjoinGameDiv.appendChild(joinGameCurrentSlots);\n\tjoinGameDiv.appendChild(buttonDiv);\n\tbuttonDiv.appendChild(joinGameButton);\n\tbuttonDiv.appendChild(dontJoinGameButton);\n\tconsole.log(\"did it work?\")\n\n\tjoinGameDiv.classList.add(\"join-game-div\")\n\tbuttonDiv.classList.add(\"button-div\")\n\tjoinGameButton.classList.add(\"actual-join-game-button\")\n\tdontJoinGameButton.classList.add(\"cancel\")\n\n\tjoinGameTitle.innerHTML = currentGame.game\n\tjoinGameUser.innerHTML = \"Who: \" + currentGame.username\n\tjoinGameLocationInfo.innerHTML = \"Where: \" + currentGame.locatioInfo\n\tjoinGameAddress.innerHTML = \"Address: \" + currentGame.address\n\tjoinGameDescription.innerHTML = \"Why: \" + currentGame.description\n\tjoinGameDate.innerHTML = \"When: \" + currentGame.date\n\tjoinGameTime.innerHTML = \"Time: \" + currentGame.time\n\tjoinGameCurrentSlots.innerHTML = \"Slots Available: \" + currentGame.players\n\tjoinGameButton.innerHTML = \"Join This Game\"\n\tdontJoinGameButton.innerHTML = \"Cancel\"\n\n\t// var\tslot = joinGameCurrentSlots.innerHTML\n\n\tjoinGameButton.addEventListener('click', function(){\n\t\tif (joinGameCurrentSlots.innerHTML <= 1 ) {\n\t\t\tjoinGameDiv.style.display = \"none\"\n\t\t\tconsole.log(\"ack\")\n\t\t}\t\n\t\t// do ajax call to join the game (-- the number of player slots )\n\t\taxios\n\t\t\t.post('http://178.128.76.205:1235/game/' + currentGame.id)\n\t\t\t.then(function (response) {\n\t\t\t\tconsole.log('here is the get response data for key:', response.data);\n\t\t\t\tcurrentGame.players--\n\t\t\t\tjoinGameCurrentSlots.innerHTML = \"Slots Available: \" + currentGame.players;\n\n\t\t\t\tconsole.log(currentGame.players)\n\t\t\t})\n\t});\n\n\tdontJoinGameButton.addEventListener('click', function() {\n\t\t\tjoinGameDiv.style.display = \"none\"\n\t\t\tconsole.log(\"goodbye\")\n\t});\n\n};\t\n\n\n// Make slots available a countdown sort of thing that goes down as you join the game. \n\n//You need to be able to access the a tag that is being created\n//you need to send the comments section through the API\n\n\n\n\n\n\n"]}